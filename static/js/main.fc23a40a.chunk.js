(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{14:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2lzzX",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1g6kf"}},15:function(e,t,a){e.exports={Button:"Button_Button__6DMQo",ButtonWrapper:"Button_ButtonWrapper__3HnkI"}},16:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1Z6Ns",Modal:"Modal_Modal__30ewR"}},28:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__D3w4A"}},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),c=a.n(o),s=a(30),i=a(8),l=a.n(i),u=a(18),m=a(12),g=a(4),p=a(5),h=a(7),d=a(6),b=a(9),f=a.n(b),j=a(1),I=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={input:""},e.onSubmitHandler=function(t){t.preventDefault(),e.props.onSubmit(e.state.input)},e.onChangeHandler=function(t){e.setState({input:t.target.value})},e}return Object(p.a)(a,[{key:"render",value:function(){return Object(j.jsx)("header",{className:f.a.Searchbar,children:Object(j.jsxs)("form",{onSubmit:this.onSubmitHandler,className:f.a.SearchForm,children:[Object(j.jsx)("button",{type:"submit",className:f.a.SearchFormButton,children:"\ud83d\udd0d"}),Object(j.jsx)("input",{onChange:this.onChangeHandler,className:f.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),a}(n.Component),v=a(28),O=a.n(v),y=function(e){var t=e.children;return Object(j.jsx)("ul",{className:O.a.ImageGallery,children:t})},S=a(14),_=a.n(S),x=function(e){var t=e.previewImg,a=e.alt,n=e.largeImageURL,r=e.onImageClick;return Object(j.jsx)("li",{className:_.a.ImageGalleryItem,children:Object(j.jsx)("img",{"data-image":n,src:t,alt:a,className:_.a.ImageGalleryItemImage,onClick:r})})},k=a(15),w=a.n(k),C=function(e){var t=e.onLoadMoreClick;return Object(j.jsx)("div",{className:w.a.ButtonWrapper,children:Object(j.jsx)("button",{onClick:t,type:"button",className:w.a.Button,children:"Load more"})})},L=a(16),M=a.n(L),B=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).keydonwHandler=function(t){"Escape"===t.code&&e.props.onModalClose()},e.clickHandler=function(t){t.target===t.currentTarget&&e.props.onModalClose()},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.keydonwHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.keydonwHandler)}},{key:"render",value:function(){return Object(j.jsx)("div",{onClick:this.clickHandler,className:M.a.Overlay,children:Object(j.jsx)("div",{className:M.a.Modal,children:Object(j.jsx)("img",{src:this.props.image,alt:this.props.alt})})})}}]),a}(n.Component),H=a(31),F=a(17),N=a.n(F);N.a.defaults.baseURL="https://pixabay.com/api";var G=function(){var e=Object(m.a)(l.a.mark((function e(t,a){var n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams({key:"24479439-fad8fccb3aca2f73405340c7a",q:t,image_type:"photo",orientation:"horizontal",safesearch:"true",per_page:12,page:a}),e.next=3,N.a.get("?"+n.toString());case 3:return r=e.sent,o=r.data,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),R=G,U=a(29),A=a.n(U),D={position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},V=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:"",images:[],totalImages:0,page:1,isLoading:!1,modalImg:"",alt:""},e.getImages=Object(m.a)(l.a.mark((function t(){var a,n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.prev=1,t.next=4,R(e.state.inputValue,e.state.page);case 4:a=t.sent,n=a.hits,r=a.totalHits,e.setState((function(e){return{images:[].concat(Object(u.a)(e.images),Object(u.a)(n)),totalImages:r}})),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0),e.setState({isLoading:!1});case 14:return t.prev=14,e.setState({isLoading:!1}),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,10,14,17]])}))),e.submitHandler=function(t){e.setState({inputValue:t,images:[],totalImages:0,page:1})},e.onLoadMoreClick=function(){e.setState((function(e){return{page:e.page+1}}))},e.onImageClick=function(t){t.target===t.currentTarget&&(e.setState({modalImg:t.target.dataset.image}),e.setState({alt:t.target.getAttribute("Alt")}))},e.onModalClose=function(){e.setState({modalImg:""}),e.setState({alt:""})},e}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.inputValue===this.state.inputValue&&t.page===this.state.page||this.getImages()}},{key:"render",value:function(){var e=this;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(I,{onSubmit:this.submitHandler}),Object(j.jsx)(y,{children:this.state.images.map((function(t){var a=t.webformatURL,n=t.tags,r=t.largeImageURL;return Object(j.jsx)(x,{previewImg:a,alt:n,largeImageURL:r,onImageClick:e.onImageClick},Object(H.a)())}))}),""!==this.state.modalImg&&Object(j.jsx)(B,{image:this.state.modalImg,alt:this.state.alt,onModalClose:this.onModalClose}),this.state.totalImages>11&&!this.state.isLoading&&Object(j.jsx)(C,{onLoadMoreClick:this.onLoadMoreClick}),this.state.isLoading&&Object(j.jsx)(A.a,{type:"Oval",color:"#3f51b5",height:80,width:80,style:Object(s.a)({},D)})]})}}]),a}(n.Component),W=V;a(76),a(77);c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(W,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__gRux5",SearchForm:"Searchbar_SearchForm__QjNff",SearchFormButton:"Searchbar_SearchFormButton__3npsW",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3YHvw",SearchFormInput:"Searchbar_SearchFormInput__lDBoR"}}},[[78,1,2]]]);
//# sourceMappingURL=main.fc23a40a.chunk.js.map