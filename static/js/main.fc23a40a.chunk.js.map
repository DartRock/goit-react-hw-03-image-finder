{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/common/Button/Button.module.css","components/common/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/common/Button/Button.jsx","components/common/Modal/Modal.jsx","services/api.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","input","onSubmitHandler","e","preventDefault","props","onSubmit","onChangeHandler","setState","target","value","className","s","this","SearchForm","type","SearchFormButton","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGallery","children","ImageGalleryItem","previewImg","alt","largeImageURL","onImageClick","src","ImageGalleryItemImage","onClick","Button","onLoadMoreClick","ButtonWrapper","Modal","keydonwHandler","code","onModalClose","clickHandler","currentTarget","window","addEventListener","removeEventListener","Overlay","image","axios","defaults","baseURL","fetchImages","page","a","queryParams","URLSearchParams","key","q","image_type","orientation","safesearch","per_page","get","toString","data","loaderStyle","position","left","top","transform","App","inputValue","images","totalImages","isLoading","modalImg","getImages","hits","totalHits","prevState","console","log","submitHandler","dataset","getAttribute","prevProps","map","webformatURL","tags","nanoid","color","height","width","style","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fc23a40a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2lzzX\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1g6kf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__6DMQo\",\"ButtonWrapper\":\"Button_ButtonWrapper__3HnkI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1Z6Ns\",\"Modal\":\"Modal_Modal__30ewR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__D3w4A\"};","import React from 'react'\r\nimport { Component } from 'react'\r\nimport s from './Searchbar.module.css'\r\n\r\nexport class Searchbar extends Component {\r\n\r\n    state = {\r\n        input: ''\r\n    }\r\n\r\n    onSubmitHandler = e => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.input)\r\n    }\r\n\r\n    onChangeHandler = e => {\r\n        this.setState({input: e.target.value})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <header className={s.Searchbar}>\r\n                <form onSubmit={this.onSubmitHandler} className={s.SearchForm}>\r\n                    <button type=\"submit\" className={s.SearchFormButton}>            \t\r\n                        &#128269;\r\n                    </button>\r\n\r\n                    <input\r\n                        onChange={this.onChangeHandler}\r\n                        className={s.SearchFormInput}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n","\r\nimport s from './ImageGallery.module.css'\r\n\r\n\r\nexport const ImageGallery = ({children}) => {\r\n    return (\r\n        <ul className={s.ImageGallery}>\r\n            {children}  \r\n        </ul>\r\n    )\r\n}","    \r\nimport React from 'react'\r\nimport s from './ImageGalleryItem.module.css'\r\n\r\n\r\nexport const ImageGalleryItem  = ({previewImg, alt, largeImageURL, onImageClick}) => {\r\n    return (\r\n        <li className={s.ImageGalleryItem}>\r\n          <img data-image={largeImageURL} src={previewImg} alt={alt} className={s.ImageGalleryItemImage} onClick={onImageClick} />   \r\n        </li>\r\n    )\r\n}","import React from 'react'\r\nimport s from './Button.module.css'\r\n\r\nexport const Button = ({onLoadMoreClick}) => {\r\n    return (\r\n        <div className={s.ButtonWrapper}>\r\n            <button onClick={onLoadMoreClick} type='button' className={s.Button}>Load more</button>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Component } from 'react'\r\nimport s from './Modal.module.css'\r\n\r\nexport class Modal extends Component {\r\n\r\n    keydonwHandler = (e) => {\r\n        if (e.code === \"Escape\") {\r\n            this.props.onModalClose()\r\n        }\r\n    }\r\n\r\n    clickHandler = e => {\r\n        if (e.target === e.currentTarget) {\r\n            this.props.onModalClose()\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.keydonwHandler)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.keydonwHandler)\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n        <div onClick={this.clickHandler} className={s.Overlay}>\r\n            <div className={s.Modal}>\r\n                    <img src={this.props.image} alt={this.props.alt}/>\r\n            </div>\r\n        </div>\r\n    )}\r\n}\r\n","import axios from 'axios';\r\nconst BASE_URL = 'https://pixabay.com/api';\r\nconst API_KEY = '24479439-fad8fccb3aca2f73405340c7a';\r\naxios.defaults.baseURL = BASE_URL;\r\n\r\nconst fetchImages = async (input, page) => {\r\n  const queryParams = new URLSearchParams({\r\n    key: API_KEY,\r\n    q: input,\r\n    image_type: 'photo',\r\n    orientation: 'horizontal',\r\n    safesearch: 'true',\r\n    per_page: 12,\r\n    page: page,\r\n  });\r\n\r\n  const { data } = await axios.get('?' + queryParams.toString());\r\n  return data;\r\n};\r\n\r\nexport default fetchImages;\r\n","// import s from './App.module.css';\nimport { Component } from 'react';\nimport { Searchbar } from './components/Searchbar/Searchbar';\nimport { ImageGallery } from './components/ImageGallery/ImageGallery';\nimport { ImageGalleryItem } from './components/ImageGallery/ImageGalleryItem/ImageGalleryItem';\nimport { Button } from './components/common/Button/Button';\nimport { Modal } from './components/common/Modal/Modal';\nimport { nanoid } from 'nanoid';\nimport fetchImages from './services/api';\nimport Loader from 'react-loader-spinner';\n\nconst loaderStyle = {\n  position: 'fixed',\n  left: '50%',\n  top: '50%',\n  transform: 'translate(-50%, -50%)',\n};\n\nclass App extends Component {\n  state = {\n    inputValue: '',\n    images: [],\n    totalImages: 0,\n    page: 1,\n    isLoading: false,\n    modalImg: '',\n    alt: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.inputValue !== this.state.inputValue ||\n      prevState.page !== this.state.page\n    ) {\n      this.getImages();\n    }\n  }\n\n  getImages = async () => {\n    this.setState({ isLoading: true });\n    try {\n      const data = await fetchImages(this.state.inputValue, this.state.page);\n      const images = data.hits;\n      const totalImages = data.totalHits;\n\n      this.setState(prevState => ({\n        images: [...prevState.images, ...images],\n        totalImages: totalImages,\n      }));\n    } catch (error) {\n      console.log(error);\n      this.setState({ isLoading: false });\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  };\n\n  submitHandler = value => {\n    this.setState({\n      inputValue: value,\n      images: [],\n      totalImages: 0,\n      page: 1,\n    });\n  };\n\n  onLoadMoreClick = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n\n  onImageClick = e => {\n    if (e.target === e.currentTarget) {\n      this.setState({ modalImg: e.target.dataset.image });\n      this.setState({ alt: e.target.getAttribute('Alt') });\n    }\n  };\n\n  onModalClose = () => {\n    this.setState({ modalImg: '' });\n    this.setState({ alt: '' });\n  };\n\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.submitHandler} />\n\n        <ImageGallery>\n          {this.state.images.map(({ webformatURL, tags, largeImageURL }) => {\n            return (\n              <ImageGalleryItem\n                key={nanoid()}\n                previewImg={webformatURL}\n                alt={tags}\n                largeImageURL={largeImageURL}\n                onImageClick={this.onImageClick}\n              />\n            );\n          })}\n        </ImageGallery>\n\n        {this.state.modalImg !== '' && (\n          <Modal\n            image={this.state.modalImg}\n            alt={this.state.alt}\n            onModalClose={this.onModalClose}\n          />\n        )}\n\n        {this.state.totalImages > 11 && !this.state.isLoading && (\n          <Button onLoadMoreClick={this.onLoadMoreClick} />\n        )}\n        {this.state.isLoading && (\n          <Loader\n            type=\"Oval\"\n            color=\"#3f51b5\"\n            height={80}\n            width={80}\n            style={{ ...loaderStyle }}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'normalize.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__gRux5\",\"SearchForm\":\"Searchbar_SearchForm__QjNff\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3npsW\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3YHvw\",\"SearchFormInput\":\"Searchbar_SearchFormInput__lDBoR\"};"],"sourceRoot":""}